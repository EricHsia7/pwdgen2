"use strict";(self.webpackChunkpwdgen2=self.webpackChunkpwdgen2||[]).push([[452],{6516:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(4678),a=r(5315);window.Xsearch={createSearchIndex:function(){var e=(0,a.Lr)(),t=e.length;Xsearch.searchIndex={all:[],hashtags:[],date:[],len:[]};for(var r=0;r<t;r++){var s=[];s.push(e[r].password),s.push(e[r].website),s.push(null===e[r].note?"":n.Z.deur(atob(e[r].note))),s.push(e[r].username);var o=new Date(e[r].time_stamp);s.push(n.Z.timestr(o));var i=n.Z.gethashtags(s[2],!0),c=i.length;s.push(i.join(" ")),s.push("year:"+o.getFullYear()),s.push("month:"+(o.getMonth()+1)),s.push("date:"+o.getDate()),s.push("length:"+String(e[r].password).length);var u=n.Z.unicode_arr(String(s.join("")).toLowerCase()),d=n.Z.unicode_arr(i.join(""));Xsearch.searchIndex.all.push({id:e[r].id,password:s[0],website:s[1],note:s[2],username:s[3],date:s[4],len:s[9],all_unicode:u,hashtags:i,hashtags_unicode:d,all:s.join(" "),type:0});for(var g=0;g<c;g++)Xsearch.searchIndex.hashtags.indexOf(i[g])>-1||Xsearch.searchIndex.hashtags.push(i[g]);for(g=6;g<9;g++)Xsearch.searchIndex.date.indexOf(s[g])>-1||Xsearch.searchIndex.date.push(s[g]);Xsearch.searchIndex.len.indexOf(s[9])>-1||Xsearch.searchIndex.len.push(s[9])}return Xsearch.searchIndex},search_passwords:function(e,t){for(var r=t.hashtags.length,a=t.date.length,s=t.len.length,o=[],i=[],c=[],u=[],d=0;d<r;d++)t.hashtags[d].indexOf(e)>-1&&o.push({type:1,suggestion:t.hashtags[d],similarity:o.length<10?n.Z.jaroWinklerDistance(e,t.hashtags[d]):0});for(var g=0;g<a;g++)t.date[g].indexOf(e)>-1&&i.push({type:2,suggestion:t.date[g],similarity:i.length<10?n.Z.jaroWinklerDistance(e,t.date[g]):0});for(g=0;g<s;g++)t.len[g].indexOf(e)>-1&&i.push({type:4,suggestion:t.len[g],similarity:c.length<10?n.Z.jaroWinklerDistance(e,t.len[g]):0});u=o.length<10&&i.length<10&&c.length<10?o.concat(i).concat(c).sort((function(e,t){return t.similarity-e.similarity})):o.concat(i).concat(c).sort();for(var h=n.Z.unicode_arr(e),p=h.length,l=[],f=t.all.length,w=0;w<f;w++){for(var m=t.all[w],v=!1,_=0;_<p;_++)if(m.all_unicode.indexOf(h[_])>-1){v=!0;break}if(!1!==v){var y=!1;(String(m.all).toLowerCase().indexOf(e)>-1||String(m.note).toLowerCase().indexOf(e)>-1||String(m.website).toLowerCase().indexOf(e)>-1||String(m.username).toLowerCase().indexOf(e)>-1||String(m.password).indexOf(e)>-1||String(m.date).indexOf(e)>-1)&&(y=!0),y&&l.push(m)}}return{result:l,suggestions:u.slice(0,5),query:e}},searchIndex:{all:[],hashtags:[],date:[],len:[]}};const s=window.Xsearch},1616:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(3069),a=r(4678),s=r(9340);window.Xshare={shareViaURL:function(e,t,r,s){var o=new URL("https://erichsia7.github.io/pwdgen2");o.searchParams.append("share","1"),o.searchParams.append("type",e),o.searchParams.append("from",t),o.searchParams.append("data",btoa(a.Z.enur(r))),o.searchParams.append("format",s),navigator.canShare?navigator.share({title:"Share ".concat(e),text:"Share ".concat(e),url:o.toString()}):(n.Z.copyText(o.toString()),n.Z.prompt.prompt_message("Copied link for sharing."))},receiveSharedContentFromURL:function(e){var t=(e=new URL(e)).searchParams;if("1"===t.get("share")){var r=t.get("type"),o=(t.get("from"),a.Z.deur(atob(String(t.get("data"))))),i=!1,c={};if("json"===t.get("format"))try{c=JSON.parse(o),i=!0}catch(e){n.Z.prompt.prompt_message("Invalid shared data.")}if(i&&"pattern"===r){c=n.Z.pattern_editor.removeIdentityFromPattern(c);var u=s.Z.generate([{type:"string",string:"pwdgen2_pattern_b_"},{type:"regex",regex:"/[a-zA-Z0-9]/g",quantity:32,repeat:!0}],"production");LS.hasOwnProperty(u)||(LS.setItem(u,JSON.stringify(c)),n.Z.prompt.prompt_message("Saved shared pattern."),n.Z.pattern_manager.openPatternManager())}}}};const o=window.Xshare},5315:(e,t,r)=>{r.d(t,{Ge:()=>p,Io:()=>h,LS:()=>i,Lr:()=>u,W8:()=>c,dM:()=>g,kT:()=>d,mD:()=>l,oZ:()=>f});var n=r(9340),a=r(4678),s=r(3069),o=r(2568),i=window.localStorage;function c(e){var t=[];for(var r in window.localStorage)String(r).indexOf(e)>-1&&t.push(r);return t}function u(){for(var e=c("pwdgen2_saved_b"),t=e.length,r=[],n=0;n<t;n++){var s=JSON.parse(String(i.getItem(e[n])));if(!s.hasOwnProperty("history")){var o="",u=!1;if(a.Z.isValidURL(s.website)){o=s.website,s.website.indexOf("http://")>-1||s.website.indexOf("https://")>-1||(o="https://"+o);var d=new URL(o);d.search="",d.protocol="http://",u="https://remote-ivory-bovid.faviconkit.com/".concat(d.toString().replace("http://",""),"/256")}r.push({website_icon:u,website:s.website,password:a.Z.deur(a.Z.decryptString(s.encrypted_password,s.aes_iv)),username:s.username,note:s.note,time_stamp:s.time_stamp,id:s.id})}}return r.sort((function(e,t){return new Date(t.time_stamp).getTime()-new Date(e.time_stamp).getTime()})),r}function d(){var e=[{type:"group",group:[{type:"regex",regex:"/[A-Za-z0-9]/g",quantity:32,repeat:!0}],actions:["shuffle"]}],t=c("pwdgen2_saved_a");if(t.length<=0)return"";for(var r=t.length,a=[],s=0;s<r;s++){var o=String(i.getItem(t[s])).split(":"),u=t[s].split("_")[3],d=new Date;d.setTime(o[2]);var g=n.Z.generate(e,"production"),h=i.getItem("pwdgen2_saved_notes_cf_".concat(u))||"";a.push({website:"",encrypted_password:o[0],aes_iv:parseInt(o[1]),note:h,time_stamp:d,id:g}),i.setItem("pwdgen2_saved_b_".concat(g),JSON.stringify(a[a.length-1])),i.removeItem(t[s])}}function g(e,t,r,s){var o=(new Date).toISOString(),c=n.Z.generate([{type:"group",group:[{type:"regex",regex:"/[A-Za-z0-9]/g",quantity:32,repeat:!0}],actions:["shuffle"]}],"production");return function(e,t,r,n,s,o){var c=a.Z.encryptString(a.Z.enur(e)),u={website:n,username:t,encrypted_password:c[0],aes_iv:c[1],note:""===s?null:btoa(a.Z.enur(s)),time_stamp:r,id:o};i.setItem("pwdgen2_saved_b_"+o,JSON.stringify(u))}(e,t,o,r,s,c),c}function h(e,t,r,n,s){var c="pwdgen2_saved_b_".concat(s),u="pwdgen2_saved_b_history_".concat(s);if(i.hasOwnProperty(c)){var d=JSON.parse(String(i.getItem(c))),g=a.Z.encryptString(a.Z.enur(e)),h={website:r,username:t,encrypted_password:g[0],aes_iv:g[1],note:""===n?null:btoa(a.Z.enur(n)),time_stamp:d.time_stamp,id:s};if(o(JSON.stringify({website:d.website,username:d.username,password:a.Z.deur(a.Z.decryptString(d.encrypted_password,d.aes_iv)),note:d.note}))===o(JSON.stringify({website:r,username:t,password:e,note:n})))return"";if(i.hasOwnProperty(u))var p=JSON.parse(String(i.getItem(u)));else p={id:s,history:[]};p.history.push(d),i.setItem(u,JSON.stringify(p)),i.setItem(c,JSON.stringify(h))}}function p(e){return!!i.hasOwnProperty("pwdgen2_saved_b_".concat(e))&&(i.removeItem("pwdgen2_saved_b_".concat(e)),i.hasOwnProperty("pwdgen2_saved_b_history_".concat(e))&&i.removeItem("pwdgen2_saved_b_history_".concat(e)),!0)}function l(e){var t=e.target.files[0],r=new FileReader;r.onload=function(e){for(var t=e.target.result,r=JSON.parse(t).data,n=r.length,a=0;a<n;a++){var o=r[a];localStorage.setItem(o.key,JSON.stringify(JSON.parse(o.content)))}d(),s.Z.prompt.prompt_message("Imported data successfully."),s.Z.main_page.printSavedPasswordList()},r.readAsText(t)}function f(){for(var e=c("pwdgen2_saved_b_").concat(c("pwdgen2_pattern_b_")),t=e.length,r=[],n=0;n<t;n++){var a=String(i.getItem(e[n]));r.push({key:e[n],content:a})}return JSON.stringify({data:r,version:"2023-07-30",export_time_stamp:(new Date).toISOString()},null,2)}},4678:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(9340);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s=r(8826);function o(e){return e<10?"0"+e:e}function i(e,t,r){var n,a,s;if(e/=360,r/=100,0===(t/=100))n=a=s=r;else{var o=Math.floor(6*e),i=6*e-o,c=r*(1-t),u=r*(1-i*t),d=r*(1-(1-i)*t);switch(o%6){case 0:n=r,a=d,s=c;break;case 1:n=u,a=r,s=c;break;case 2:n=c,a=r,s=d;break;case 3:n=c,a=u,s=r;break;case 4:n=d,a=c,s=r;break;case 5:n=r,a=c,s=u}}return{r:Math.round(255*n),g:Math.round(255*a),b:Math.round(255*s)}}window.utilities={encryptString:function(e){var t=parseInt(n.Z.generate([{type:"regex",regex:"/[1-9]/g",quantity:1,repeat:!1},{type:"group",group:[{type:"regex",regex:"/[0-9]/g",quantity:9,repeat:!0}],actions:["shuffle"]}],"production")),r=s.utils.utf8.toBytes(e),a=new s.ModeOfOperation.ctr([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],new s.Counter(t)).encrypt(r);return[s.utils.hex.fromBytes(a),t]},decryptString:function(e,t){var r=s.utils.hex.toBytes(e),n=new s.ModeOfOperation.ctr([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],new s.Counter(parseInt(t))).decrypt(r);return s.utils.utf8.fromBytes(n)},enur:function(e){return encodeURIComponent(e)},deur:function(e){return decodeURIComponent(e)},gid:function(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyz",r="",n=0;n<16;n++){var a=Math.floor(36*Math.random());r+=t.substring(a,a+1)}return void 0!==e?(e=e.replaceAll("_","-"))+"-"+r+(new Date).getTime():r+""+(new Date).getTime()},shuffleSelf:function(e,t){var r=-1,n=e.length,a=n-1;for(t=void 0===t?n:t;++r<t;){var s=r+Math.floor(Math.random()*(a-r+1)),o=e[s];e[s]=e[r],e[r]=o}return e.length=t,e},che:o,timestr:function(e){return e.getFullYear()+"-"+o(e.getMonth()+1)+"-"+o(e.getDate())+" "+o(e.getHours())+":"+o(e.getMinutes())+":"+o(e.getSeconds())},checkTouchFeatures:function(){return!(!("ontouchstart"in window)&&!navigator.maxTouchPoints)},qe:function(e){var t=document.querySelector(e);return null===t&&(t=document.createElement("div")),t},qeAll:function(e){return document.querySelectorAll(e)},copyProperty:function(e,t,r){t.style.setProperty(r,e.style.getPropertyValue(r))},unicode_arr:function(e){for(var t=e.length,r=[],n=0;n<t;n++){var a=e.charCodeAt(n);r.indexOf(a)>-1||r.push(a)}return r},jaroWinklerDistance:function(e,t){for(var r=e.length,n=t.length,a=Math.floor(Math.max(r,n)/2)-1,s=new Array(r).fill(!1),o=new Array(n).fill(!1),i=0,c=0,u=0;u<r;u++)for(var d=Math.max(0,u-a),g=Math.min(u+a+1,n),h=d;h<g;h++)if(!o[h]&&e[u]===t[h]){s[u]=!0,o[h]=!0,i++;break}if(0===i)return 0;for(var p=0,l=0;l<r;l++)if(s[l]){for(;!o[p];)p++;e[l]!==t[p]&&c++,p++}for(var f=(i/r+i/n+(i-c/2)/i)/3,w=0;e[w]===t[w]&&w<4;)w++;return f+.1*w*(1-f)},gethashtags:function(e,t){var r=e.match(/\B#([a-z0-q9]{2,})(?![~!@#$%^&*()=+_`\-\|\\/'\[\]\{\}]|[?.,]*\w)/g),n=[];if(null===r)return[];for(var a=r.length,s=0;s<a;s++)n.indexOf(r[s])>-1||n.push(r[s]);if(t)for(var o=0;o<n.length;o++){var i=String(n[o]).replaceAll("#","").toLowerCase();allhashtag[i]=n[o]}return n},fetchWithProgress:function(e,t){return new Promise((function(r,n){fetch(e).then((function(e){if(!e.ok)throw new Error("Network response was not OK");Number(e.headers.get("Content-Length"));var a=e.body.getReader(),s=0,o=new TextDecoder,i="";!function e(){a.read().then((function(n){var a=n.done,c=n.value;if(a)r(i);else{s+=c.length,t(s/85878*100);var u=o.decode(c,{stream:!0});i+=u,e()}})).catch((function(e){n(e)}))}()})).catch((function(e){n(e)}))}))},hsvToRgb:i,randomColorSet:function(){var e,t,r=(e=0,t=360,Math.max(Math.min(Math.round(e+(t-e)*Math.random()),t),e)),n=function(e,t){var n={h:r,s:67,v:e},a={h:r,s:100,v:e},s=i(n.h,n.s,n.v),o=i(a.h,a.s,a.v);return{text:{r:s.r,g:s.g,b:s.b,a:1,str:"rgba(".concat(s.r,",").concat(s.g,",").concat(s.b,",",1,")")},bg:{r:o.r,g:o.g,b:o.b,a:t,str:"rgba(".concat(o.r,",").concat(o.g,",").concat(o.b,",").concat(t,")")}}};return{light:n(75,.06),dark:n(100,.11)}},isDarkMode:function(){return!(!window.matchMedia||!window.matchMedia("(prefers-color-scheme: dark)").matches)},blendColors:function(e,t){var r=t.substring(5,t.length-1).split(",").map((function(e){return parseFloat(String(e).trim())})),n=r[0],a=r[1],s=r[2],o=r[3],i=Math.round((1-o)*parseInt(e.substring(1,3),16)+o*n),c=Math.round((1-o)*parseInt(e.substring(3,5),16)+o*a),u=Math.round((1-o)*parseInt(e.substring(5,7),16)+o*s);return"#".concat(i.toString(16).padStart(2,"0")).concat(c.toString(16).padStart(2,"0")).concat(u.toString(16).padStart(2,"0"))},encodeSignsToHtmlEntities:function(e){return e.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))},isValidURL:function(e){return/^(?:https?:\/\/)?(?:www\.)?([a-zA-Z0-9.-]+\.[a-zA-Z]{2,})(?:\/.*)?$/.test(e)},stopProp:function(e){var t=!1;"object"===a(e)&&e instanceof Event&&(t=!0),t&&e.stopPropagation()}};const c=window.utilities},7939:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(4678),a=r(5315);window.words_list={loaded:!1,progress:0,c:{},getWordsList:function(){if(!words_list.loaded){if(a.LS.hasOwnProperty("pwdgen2_words_list_cache")){String(a.LS.getItem("pwdgen2_words_list_cache")).split(/\n/g).forEach((function(e){words_list.c.hasOwnProperty(e.substring(0,3))?words_list.c[e.substring(0,3)].push(e):words_list.c[e.substring(0,3)]=[e]}));return words_list.loaded=!0,""}var e="https://erichsia7.github.io/pwdgen2/words_list/index.txt?".concat((new Date).getTime());n.Z.fetchWithProgress(e,(function(e){words_list.progress=e})).then((function(e){e.split(/\n/g).forEach((function(e){words_list.c.hasOwnProperty(e.substring(0,3))?words_list.c[e.substring(0,3)].push(e):words_list.c[e.substring(0,3)]=[e]}));words_list.loaded=!0,a.LS.setItem("pwdgen2_words_list_cache",e)})).catch((function(e){}))}}};const s=window.words_list}}]);
//# sourceMappingURL=main-96c26e23.1c866b3a9c93893833e8.min.js.map